Perfect. Hereâ€™s exactly what you need, broken into two parts as requested:

â¸»

âœ… Part 1: Instructions for Replit â€” Instrument-to-Gig Type with Hybrid AI Fallback

Give these clear instructions to your Replit developer or paste into a README/internal issue:

â¸»

ðŸ“ Feature: Instrument-Based Gig Suggestions with Hybrid AI

Objective:
Create a feature where users select instruments they play (via categorized checkboxes), and the system auto-suggests typical gig types using a hybrid approach (default lookup + OpenAI fallback).

â¸»

1. âœ… User Input Interface
	â€¢	Use checkboxes grouped under categories like:
	â€¢	ðŸŽ¸ Band Instruments â€“ guitar, bass, drums, vocals, saxophone, trumpet
	â€¢	ðŸŽ» Classical Instruments â€“ violin, flute, cello, piano, oboe
	â€¢	ðŸŽ¹ Other/General â€“ keyboard, DJ, singer-songwriter, percussion

Allow multi-selection.

â¸»

2. âš™ï¸ Backend Logic
	â€¢	On submission, send the selected instruments to a backend endpoint:
e.g. POST /api/suggest-gigs

â¸»

3. ðŸ” Server-Side Suggestion Logic
	â€¢	Maintain a JS object like:

const instrumentToGigTypes = {
  saxophone: ['Solo Sax', 'Sax with DJ', 'Jazz Quartet', 'Wedding Ceremony'],
  guitar: ['Acoustic Set', 'Rock Band', 'Wedding Gig'],
  piano: ['Cocktail Set', 'Solo Piano', 'Musical Theatre'],
  flute: ['Orchestral Gig', 'Wedding Ceremony', 'Classical Recital'],
  vocals: ['Lead Singer', 'Backing Vocals', 'Acoustic Duo'],
  // Add more...
};

	â€¢	For each instrument:
	â€¢	Normalize input (e.g., lowercase, trim).
	â€¢	Check against the mapping.
	â€¢	Collect and deduplicate all matching gig types.
	â€¢	If no matches found, fallback to OpenAI (see Part 2 below).

â¸»

4. ðŸš€ Response Format

Return a JSON array:

["Solo Sax", "Sax with DJ", "Jazz Quartet"]


â¸»

5. ðŸ’¡ (Optional Enhancement)
	â€¢	Log any user input not matched by the lookup table (e.g., "hang drum")
	â€¢	This helps improve the static list over time

â¸»

âœ… Part 2: How to Use OpenAI API in Replit

Follow this setup to integrate OpenAI API in your Replit project (Node.js/Express assumed):

â¸»

1. ðŸ” Create OpenAI API Key
	â€¢	Go to https://platform.openai.com/account/api-keys
	â€¢	Click Create new secret key
	â€¢	Copy it (you can only see it once)

â¸»

2. ðŸ› ï¸ Add Environment Variable in Replit

In your .env file (or Replit Secrets UI):

OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxx


â¸»

3. ðŸ“¦ Install Dependencies

In Replit shell or package.json:

npm install openai dotenv


â¸»

4. âœï¸ Sample Code for AI Fallback (Node/Express)

// suggest-gigs.ts
import express from 'express';
import { OpenAI } from 'openai';
import dotenv from 'dotenv';
dotenv.config();

const router = express.Router();
const openai = new OpenAI({ apiKey: process.env.OPENAI_API_KEY });

router.post('/api/suggest-gigs', async (req, res) => {
  const instruments: string[] = req.body.instruments || [];
  const gigSuggestions = new Set<string>();

  const instrumentToGigTypes = {
    saxophone: ['Solo Sax', 'Sax with DJ', 'Jazz Quartet'],
    piano: ['Cocktail Set', 'Musical Theatre', 'Solo Piano'],
    vocals: ['Lead Singer', 'Backing Vocals'],
    // ...
  };

  instruments.forEach(instr => {
    const matches = instrumentToGigTypes[instr.toLowerCase()?.trim()];
    if (matches) matches.forEach(g => gigSuggestions.add(g));
  });

  if (gigSuggestions.size > 0) {
    return res.json([...gigSuggestions]);
  }

  // Fallback to GPT if nothing found
  const userText = instruments.join(', ');
  const prompt = `The user plays: ${userText}. Suggest 4 common gig types they might perform. Just return a list.`;

  try {
    const completion = await openai.chat.completions.create({
      messages: [{ role: 'user', content: prompt }],
      model: 'gpt-3.5-turbo',
    });

    const reply = completion.choices[0].message.content || '';
    const lines = reply.split('\n').map(line => line.replace(/^\d+\.\s*/, '').trim()).filter(Boolean);

    return res.json(lines);
  } catch (error) {
    console.error('OpenAI error:', error);
    return res.status(500).json({ error: 'AI suggestion failed' });
  }
});

export default router;


â¸»

5. ðŸ§ª Example Payload (Frontend POST)

{
  "instruments": ["saxophone", "flute"]
}


â¸»

Would you also like me to provide a full starter instrumentToGigTypes object covering ~20 common instruments across genres?