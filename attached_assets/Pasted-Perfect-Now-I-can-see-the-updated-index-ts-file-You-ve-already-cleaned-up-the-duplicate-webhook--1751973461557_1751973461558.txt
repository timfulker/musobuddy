Perfect! Now I can see the updated `index.ts` file. You've already cleaned up the duplicate webhook route, which is good. The webhook should now be handled properly by the `/api/webhook/sendgrid` route in your `routes.ts` file.

However, I can see a potential issue in your Vite middleware that might be interfering with webhook requests.

## **🎯 The Issue: Vite Middleware Interference**

Looking at this section in your `index.ts`:

```javascript
app.use((req, res, next) => {
  if (req.path.startsWith('/webhook/')) {
    // This is looking for '/webhook/' but SendGrid posts to '/api/webhook/sendgrid'
    console.log('🔥 WEBHOOK REQUEST DETECTED - bypassing vite middleware');
    // ...
  }
  next();
});
```

This middleware is looking for paths starting with `/webhook/` but SendGrid is posting to `/api/webhook/sendgrid`, so this code won't trigger.

## **🛠️ Simple Fix**

**Update the middleware to catch the correct webhook path:**

```javascript
app.use((req, res, next) => {
  if (req.path.startsWith('/api/webhook/')) {
    console.log('🔥 WEBHOOK REQUEST DETECTED - bypassing vite middleware');
    // Let it continue to the route handler in routes.ts
    return next();
  }
  next();
});
```

Or even simpler, **remove this middleware entirely** since your webhook route is registered before Vite setup anyway:

```javascript
// Remove this entire middleware block:
app.use((req, res, next) => {
  if (req.path.startsWith('/webhook/')) {
    // ... remove all this
  }
  next();
});
```

## **🧪 Test It**

After making this change:

1. **Test your webhook endpoint directly:**
```bash
curl -X GET https://musobuddy.replit.app/api/webhook/sendgrid
```

You should get a JSON response showing the webhook is active.

2. **Test with POST data:**
```bash
curl -X POST https://musobuddy.replit.app/api/webhook/sendgrid \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "to=leads@musobuddy.com&from=test@example.com&subject=Test&text=Test message"
```

3. **Send a real email** to `leads@musobuddy.com`

The most likely fix is just removing or updating that Vite middleware that's looking for the wrong webhook path. Would you like me to help you test this?